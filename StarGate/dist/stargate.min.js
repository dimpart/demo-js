/**
 *  StarGate (v2.0.0)
 *  (Interfaces for network connection)
 *
 * @author    moKy <albert.moky at gmail.com>
 * @date      Aug. 28, 2025
 * @copyright (c) 2020-2025 Albert Moky
 * @license   {@link https://mit-license.org | MIT License}
 */;
eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('1a $1p=$1p||{};$1p.4p={};$1p.1P=11(){1j(1a e=1D(9),g=[],r=e;r<1k.1f;r++)g[r-e]=1k[r];13 g};(11(e,g,r,n){"1V"!==1s e.1E&&(e.1E={});"1V"!==1s e.1h&&(e.1h={});"1V"!==1s e.1o&&(e.1o={});"1V"!==1s e.1i&&(e.1i={});1a L=n.1t.4q,k=n.1t.4r,q=n.1t.4s,33=n.1t.4t,S=n.1t.4u,E=n.1W.4v,T=n.1W.4w,U=n.1W.4x;n=r.4y.4z;1a V=r.4A.4B,W=g.1t.4C,F=g.1t.4D,X=g.4E.4F,M=g.2l.4G;r=g.1u.4H;1a i=g.1u.4I,G=g.1u.4J,N=g.1u.4K,z=g.1u.4L,Y=g.1u.4M,Z=g.4N,2m=g.4O,2n=g.4P,x=g.4Q;e.1E.34=11(a,b){q.1d(9);9.1v=a;9.1F=b?b:"2o"};g=e.1E.34;k(g,q,1b,1b);g.19.1X=11(a){13 9.1v.1X(a)};g.19.2p=11(a,b){9.1v.2p(a,b)};g.19.1Y=11(a){9.1v.1Y(a)};g.19.35=11(){9.1v.35()};g.19.4R=11(){13 9.1v.1f};g.19.36=11(a){13 9.1v.36(a)};g.19.4S=11(a){13!!9.1X(9.1F+"."+a)};g.19.2q=11(a){13 9.1X(9.1F+"."+a)};g.19.4T=11(a){13(a=9.2q(a))?U.37(a):1b};g.19.4U=11(a){13(a=9.2q(a))?T.37(a):1b};g.19.1Z=11(a){9.1Y(9.1F+"."+a);13!0};g.19.2r=11(a,b){1e(a)13 9.2p(9.1F+"."+b,a),!0;9.1Y(9.1F+"."+b);13!1};g.19.4V=11(a,b){1a c=1b;a&&(c=U.1G(a));13 9.2r(c,b)};g.19.4W=11(a,b){1a c=1b;a&&(c=T.1G(a));13 9.2r(c,b)};e.1E.4X=1c g(2s.4Y,"2o.4Z");e.1E.50=1c g(2s.51,"2o.52");e.1h.38={53:15,54:14,39:12,1Q:9.39,3a:!1,55:!1,1m:1b,1H:11(){$1p.1P.1l(0,1k);0<(9.1Q&1)&&9.1m.1H.1l(9.1m,1k)},1w:11(){$1p.1P.1l(0,1k);0<(9.1Q&2)&&9.1m.1w.1l(9.1m,1k)},20:11(){$1p.1P.1l(0,1k);0<(9.1Q&4)&&9.1m.20.1l(9.1m,1k)},1g:11(){$1p.1P.1l(0,1k);0<(9.1Q&8)&&9.1m.1g.1l(9.1m,1k)}};1a p=e.1h.38;e.1h.3b=L(1b,1b);g=e.1h.3b;g.19.1H=11(){};g.19.1w=11(){};g.19.20=11(){};g.19.1g=11(){};e.1h.3c=11(){q.1d(9)};1a j=e.1h.3c;k(j,q,[g],{1H:11(){1q.1H.1l(1q,H(1k))},1w:11(){1q.1w.1l(1q,H(1k))},20:11(){1q.56.1l(1q,H(1k))},1g:11(){1q.1g.1l(1q,H(1k))}});1a H=11(a){1e(!1===p.3a)13 a;1a b=1c 57,c=b.58(),d=b.59(),f=b.5a(),l=b.5b(),u=b.5c();b=b.5d();c=["["+(c+"-"+A(d+1)+"-"+A(f)+" "+A(l)+":"+A(u)+":"+A(b))+"]"];1j(d=0;d<a.1f;++d)c.21(a[d]);13 c},A=11(a){13 10>a?"0"+a:""+a};p.1m=1c j;e.1h.3d=L(1b,1b);1a o=e.1h.3d;o.19.3e=11(a){};e.1h.2t=11(a,b,c){q.1d(9);9.3f=a;9.3g=b;9.3h=c};1a v=e.1h.2t;k(v,q,1b,{1I:11(){1a a=9.5e();13"<"+a+\' 5f="\'+9.2u()+">\\n\\t<3i>"+9.3j()+"</3i>\\n\\t<1w>"+9.3k()+"</1w>\\n</"+a+">"}});v.19.2u=11(){13 9.3f};v.19.3j=11(){13 9.3g};v.19.3k=11(){13 9.3h};e.1h.3l=11(){q.1d(9);9.1x={}};1a t=e.1h.3l;k(t,q,1b,1b);t.19.2v=11(a,b){1a c=9.1x[b];c||(c=1c 33,9.1x[b]=c);c.5g(a)};t.19.2w=11(a,b){1j(1a c=b?[b]:5h.5i(9.1x),d=c.1f-1;0<=d;--d){b=c[d];1a f=9.1x[b];f&&(f.1Z(a),f.3m()&&5j 9.1x[b])}};t.19.22=11(a,b,c){a=1c v(a,b,c);13 9.1J(a)};t.19.1J=11(a){1a b=9.1x[a.2u()];1e(b&&!b.3m()){b=b.3n();1j(1a c,d=b.1f-1;0<=d;--d){c=b[d];3o{1e(L.5k(c,o))c.3e(a);1n"11"===1s c?c.1d(a):p.1g("2t 5l 1g",c,a)}3p(f){p.1g("5m::1J() 1g",a,c,f)}}}};e.1h.5n={2v:11(a,b){9.1R.2v(a,b)},2w:11(a,b){9.1R.2w(a,b)},22:11(a,b,c){a 23 v?9.1R.1J(a):9.1R.22(a,b,c)},1R:1c t};e.1h.3q=11(){t.1d(9);9.24=[];9.1y=!1;9.1r=1b};g=e.1h.3q;k(g,t,[n],{22:11(a,b,c){a=1c v(a,b,c);9.24.21(a)},1J:11(a){9.24.21(a)},3r:11(){1j(;9.25();)1e(!9.1z())13!0;13!1},1z:11(){1a a=9.24.3s();13 a?(t.19.1J.1d(9,a),!0):!1}});g.19.26=11(){1a a=9.1r;a&&(9.1r=1b,a.27());9.1y=!0;a=1c V(9);a.26();9.1r=a};g.19.27=11(){1a a=9.1r;a&&(9.1r=1b,a.27())};g.19.25=11(){13 9.1y};e.1o.3t=11(a,b,c,d){S.1d(9,a);9.1o=b;9.2l=c;9.1S=d};1a y=e.1o.3t;k(y,S,1b,1b);y.19.3n=11(a){1a b=9.1S,c=9.2l,d=b.1f,f;1e(c&&c!==a){a=1c 1K(d+2);1j(f=0;f<d;++f)a[f]=b[f];a[d]=c>>8;a[d+1]=c&28}1n 1j(a=1c 1K(d),f=0;f<d;++f)a[f]=b[f];13 a};e.1o.3u=11(a,b,c){1e(c)a||(a=c[0]+"."+c[1]+"."+c[2]+"."+c[3],6===c.1f&&(b=c[4]<<8|c[5]));1n 1e(a){c=1c 1K(4);1j(1a d=a.1A("."),f=0;4>f;++f)c[f]=1L(d[f],10)}1n 1B 1c 2x("3v 1S 2y: "+c+", "+a+", "+b);y.1d(9,0===b?a:a+":"+b,a,b,c)};1a I=e.1o.3u;k(I,y,1b,1b);I.29=/^(\\d{1,3}\\.){3}\\d{1,3}(:\\d{1,5})?$/;I.3w=11(a){1e(!9.29.2z(a))13 1b;a=a.1A(":");1a b=a[0],c=0;2===a.1f&&(c=1L(a[1]));13 1c I(b,c)};1a s=11(a,b,c){1a d=b.3x("::");1e(0>d){b=b.1A(":");1a f=-1;1j(d=0;d<c;++d){1a l=1L(b[d],16);a[++f]=l>>8;a[++f]=l&28}}1n{1a u=b.1M(0,d).1A(":");f=-1;1j(1a O=0;O<u.1f;++O)l=1L(u[O],16),a[++f]=l>>8,a[++f]=l&28;b=b.1M(d+2).1A(":");f=2*c;1j(c=b.1f-1;0<=c;--c)l=1L(b[c],16),a[--f]=l&28,a[--f]=l>>8}13 a},2A=11(a,b){13 0<a?16<=b?1D(a).1I(16)+1D(b).1I(16):1D(a).1I(16)+"0"+1D(b).1I(16):1D(b).1I(16)};e.1o.2B=11(a,b,c){1e(c){1e(!a){a=2A(c[0],c[1]);1j(1a d=2;16>d;d+=2)a+=":"+2A(c[d],c[d+1]);a=a.2C(/:(0:){2,}/,"::");a=a.2C(/^(0::)/,"::");a=a.2C(/(::0)$/,"::");18===c.1f&&(b=c[16]<<8|c[17])}}1n 1e(a)1e(c=1c 1K(16),d=a.1A("."),1===d.1f)c=s(c,a,8);1n 1e(4===d.1f){1a f=d[0],l=f.5o(":");d[0]=f.1M(l+1);f=f.1M(0,l);c=s(c,f,6);l=c.5p;1j(1a u=d.1f-1;0<=u;--u)f=d[u],c[--l]=f}1n 1B 1c 2x("2B 1W 1g: "+a);1n 1B 1c 2x("3v 1S 2y: "+c+", "+a+", "+b);y.1d(9,0===b?a:"["+a+"]:"+b,a,b,c)};1a B=e.1o.2B;k(B,y,1b);B.29=/^\\[?([0-2D-2E-f]{0,4}:){2,7}[0-2D-2E-f]{0,4}(]:\\d{1,5})?$/;B.3y=/^\\[?([0-2D-2E-f]{0,4}:){2,6}(\\d{1,3}.){3}\\d{1,3}(]:\\d{1,5})?$/;B.3w=11(a){1e(!9.29.2z(a)&&!9.3y.2z(a))13 1b;1e("["===a.5q(0)){1a b=a.3x("]");1a c=a.1M(1,b);a=1L(a.1M(b+2))}1n c=a,a=0;13 1c B(c,a)};1a 3z=11(a,b){a=1c 3A(a);a.5r=11(c){b.3B()};a.5s=11(c){b.3C()};a.5t=11(c){b.3D(2F("3A 1g: "+c))};a.5u=11(c){(c=c.1S)&&0!==c.1f&&("3E"===1s c?c=E.1G(c):c 23 1K||(c=1c 1K(c)),b.3F(c))};13 a};e.1i.2a=11(){q.1d(9);9.2b=[];9.2c=9.1N=-1;9.2G=9.2H=9.1O=9.2d=9.2e=1b};1a h=e.1i.2a;k(h,q,1b);h.19.3G=11(){13 9.2e};h.19.3H=11(){13 9.2d};h.19.3B=11(){9.1N=!0};h.19.3C=11(){9.2c=!0};h.19.3D=11(a){9.1N=!1};h.19.3F=11(a){9.2b.21(a)};h.19.2I=11(){};h.19.5v=11(){13!1};h.19.2f=11(){13!1===9.2c};h.19.3I=11(){13!0===9.1N};h.19.3J=11(){13!0===9.1N};h.19.2J=11(){13 9.2f()&&(9.3I()||9.3J())};h.19.2K=11(){13 9.2H};h.19.2L=11(){13 9.2G};h.19.3K=11(a){9.2G=a};h.19.2M=11(a){9.2g();9.1N=9.2c=!1;9.2H=a;9.2e=a.3G();9.2d=a.3H();a=9.2e;1a b=9.2d;a="5w"===2s.5x.5y.1A(":")[0]?"5z://"+a+":"+b:"1i://"+a+":"+b;9.1O=3z(a,9)};h.19.2g=11(){9.1O&&(9.1O.2g(),9.1O=1b)};h.19.2h=11(a){13 0<9.2b.1f?9.2b.3s():1b};h.19.2i=11(a){9.1O.1C(a);13 a.1f};h.19.3L=11(a){1a b=9.2h(a);a=b?9.2K():1b;13 1c W(b,a)};h.19.1C=11(a,b){13 9.2i(a)};e.1i.3M=11(a){G.1d(9,a)};1a 2N=e.1i.3M;k(2N,G,[r],{2h:11(a){1a b=9.3N();1e(b&&b.2f())13 X.5A(b,a);1B 2F("2a 3O 3P: "+b);},3L:11(a){1a b=9.2h(a);a=b?9.2K():1b;13 1c W(b,a)}});e.1i.3Q=11(a){G.1d(9,a)};1a 2O=e.1i.3Q;k(2O,G,[i],{2i:11(a){1a b=9.3N();1e(b&&b.2f())13 X.5B(b,a);1B 2F("2a 3O 3P: "+b);},1C:11(a,b){13 9.2i(a)}});e.1i.3R=11(a,b){N.1d(9,a,b)};1a 2P=e.1i.3R;k(2P,N,1b,{5C:11(){13 1c 2N(9)},5D:11(){13 1c 2O(9)}});e.1i.3S=11(){F.1d(9)};1a 2Q=e.1i.3S;k(2Q,F,1b,{2R:11(a,b,c){1a d=F.19.1Z.1d(9,a,b,c);F.19.2R.1d(9,a,b,c);13 d}});e.1i.3T=11(a){z.1d(9,a);9.1T=9.3U()};1a m=e.1i.3T;k(m,z,1b,1b);m.19.3U=11(){13 1c 2Q};m.19.3V=11(a,b){13 1c 2P(a,b)};m.19.5E=11(){13 9.1T.5F()};m.19.3W=11(a,b,c){9.1T.1Z(a,1b,c)};m.19.2S=11(a,b){13 9.1T.5G(a,1b)};m.19.3X=11(a,b,c){9.1T.2R(a,1b,c)};m.19.3Y=11(a,b,c){13 z.19.3Y.1d(9,a,1b,c)};m.19.3Z=11(a,b){13 z.19.3Z.1d(9,a,1b)};m.19.40=11(a,b,c){13 z.19.40.1d(9,a,1b,c)};e.1i.41=11(a){m.1d(9,a)};k(e.1i.41,m,1b,{5H:11(a,b){a=1c Y(a,b);a.42(9.43());13 a},44:11(a,b){1e(!a)1B 1c 45("5I 5J 2y");1a c=9.2S(a,b);1e(c){1e(!b)13 c;1a d=c.2L();1e(!d||d.5K(b))13 c}c=9.3V(a,b);b||(b=c.2L());(d=9.3X(a,b,c))&&d!==c&&d.2g();1e(c 23 N){d=b;1a f=1c h;f.2I(!0);d&&f.3K(d);f.2M(a);f.2I(!1);f?c.5L(f):(p.1g("[5M] 5N 5O 5P 1u",a,b),9.3W(a,b,c),c=1b)}13 c}});e.46=11(a,b){Z.1d(9,b);9.47=a};1a C=e.46;k(C,Z,1b,1b);C.19.2T=11(){13 9.47};C.19.48=11(){13 1b};C.19.5Q=11(a){13 a};e.49=11(a,b){b||(b=0);2m.1d(9,b,1);9.4a=a;9.4b=[a]};1a w=e.49;k(w,2m,1b,1b);w.19.2T=11(){13 9.4a};w.19.48=11(){13 1b};w.19.5R=11(){13 9.4b};w.19.5S=11(a){13!1};w.19.5T=11(a){13!1};e.4c=11(a,b){2n.1d(9,a,b)};1a 2U=e.4c;k(2U,2n,1b,{4d:11(a){13 1c C(a,1b)},4e:11(a,b){13 1c w(a,b)},5U:11(a){13 a&&0!==a.1f?[9.4d(a)]:[]},5V:11(a){1a b=a.2T();1e(4===b.1f){2V();1e(P(b,D))13 9.1C(J,M.2W.4f.2X()),1b;1e(P(b,J)||P(b,Q))13 1b}13 a},1C:11(a,b){a=9.4e(a,b);13 9.5W(a)},2Y:11(a){1a b=M.2W.5X.2X();13 9.1C(a,b)},2Z:11(){2V();1a a=M.2W.4f.2X();9.1C(D,a)}});1a P=11(a,b){1e(a.1f!==b.1f)13!1;1j(1a c=a.1f-1;0<=c;--c)1e(a[c]!==b[c])13!1;13!0},2V=11(){"3E"===1s D&&(D=E.1G(D),J=E.1G(J),Q=E.1G(Q))},D="5Y",J="5Z",Q="60";e.4g=11(a){x.1d(9,a);9.30=1b};1a K=e.4g;k(K,x,1b,{61:11(a){9.30=a},2j:11(){13 9.30},4h:11(a,b,c){13 x.19.4h.1d(9,a,1b,c)},31:11(a,b){13 x.19.31.1d(9,a,1b)},4i:11(a,b,c){13 x.19.4i.1d(9,a,1b,c)},4j:11(a,b){1a c=9.2j();1e(!c)1B 1c 45("62 63 1U 32");13(a=c.2M(a,b))?9.64(a,!0):1b},65:11(a,b,c,d){b=9.31(c,d);13 b?b.2J()?b.2Y(a):(p.1g("2k 1U 4k",c,d),!1):(p.1g("2k 1U 32",c,d),!1)},2Z:11(a){a 23 Y&&x.19.2Z.1d(9,a)}});e.4l=11(a){K.1d(9,a);9.1y=!1;9.1r=1c V(9)};1a R=e.4l;k(R,K,[n],{25:11(){13 9.1y},26:11(){9.1y=!0;9.1r.26()},27:11(){9.1y=!1},3r:11(){1e(!9.25())13!1;1a a=9.1z();a&&p.1H("4m 66",a);13!0},1z:11(){1a a=9.2j();3o{1a b=a.1z(),c=K.19.1z.1d(9);13 b||c}3p(d){p.1g("4m 1z 1g",d)}},2S:11(a,b){13 9.2j().44(a,b)}});e.4n=11(a){R.1d(9,a)};k(e.4n,R,1b,{67:11(a,b){a=1c 2U(a,b);a.42(9.43());13 a},68:11(a,b,c){1a d=9.4j(b,c);13 d?d.2J()?d.2Y(a):(p.1g("2k 1U 4k",b,c),!1):(p.1g("2k 1U 32",b,c),!1)}})})(4o,4o,69,6a);',62,383,'|||||||||this||||||||||||||||||||||||||||||||||||||||||||||||||||||function||return||||||prototype|var|null|new|call|if|length|error|lnc|ws|for|arguments|apply|logger|else|ip|jscomp|console|__thread|typeof|type|socket|storage|info|__observers|__running|process|split|throw|send|Number|dos|ROOT|encode|debug|toString|post|Uint8Array|parseInt|substring|__connected|__ws|getRestArguments|level|center|data|__channelPool|not|object|format|getItem|removeItem|remove|warning|push|postNotification|instanceof|__notifications|isRunning|start|stop|255|patten|Socket|__packages|__closed|__port|__host|isOpen|close|read|write|getHub|docker|port|aa|ba|dim|setItem|loadText|saveText|window|Notification|getName|addObserver|removeObserver|URIError|empty|test|fa|IPv6|replace|9A|Fa|Error|__local|__remote|configureBlocking|isAlive|getRemoteAddress|getLocalAddress|connect|bc|bd|be|bf|set|getChannel|getPayload|bg|ma|Priority|getValue|sendData|heartbeat|__hub|getPorter|found|na|Storage|clear|key|decode|Log|RELEASE|showTime|Logger|DefaultLogger|Observer|onReceiveNotification|__name|__sender|__info|sender|getSender|getUserInfo|BaseCenter|isEmpty|toArray|try|catch|AsyncCenter|run|shift|Host|IPv4|IP|parse|indexOf|patten_compat|bb|WebSocket|onConnected|onClosed|onError|string|onReceived|getHost|getPort|isConnected|isBound|bind|receive|StreamChannelReader|getSocket|channel|closed|StreamChannelWriter|StreamChannel|ChannelPool|StreamHub|createChannelPool|createChannel|removeChannel|setChannel|removeConnection|getConnection|setConnection|ClientHub|setDelegate|getDelegate|open|ReferenceError|PlainArrival|__data|getSN|PlainDeparture|__completed|__fragments|PlainPorter|createArrival|createDeparture|SLOWER|BaseGate|removePorter|setPorter|fetchPorter|alive|AutoGate|client|WSClientGate|StarTrek|scope|Interface|Class|BaseObject|HashSet|ConstantString|UTF8|JSONMap|Base64|skywalker|Runnable|threading|Thread|Pair|AddressPairMap|net|SocketHelper|Departure|SocketReader|SocketWriter|ChannelController|BaseChannel|BaseHub|ActiveConnection|ArrivalShip|DepartureShip|StarPorter|StarGate|getLength|exists|loadData|loadJSON|saveData|saveJSON|LocalStorage|localStorage|fs|SessionStorage|sessionStorage|mem|DEBUG|DEVELOP|showCaller|warn|Date|getFullYear|getMonth|getDate|getHours|getMinutes|getSeconds|getClassName|name|add|Object|keys|delete|conforms|observer|DefaultCenter|NotificationCenter|lastIndexOf|byteLength|charAt|onopen|onclose|onerror|onmessage|isBlocking|https|location|protocol|wss|socketReceive|socketSend|createReader|createWriter|allChannels|items|get|createConnection|remote|address|equals|setSocket|WS|failed|to|prepare|assemble|getFragments|checkResponse|isImportant|getArrivals|checkArrival|sendShip|NORMAL|PING|PONG|NOOP|setHub|Gate|hub|dock|sendResponse|busy|createPorter|sendMessage|FiniteStateMachine|MONKEY'.split('|'),0,{}));
